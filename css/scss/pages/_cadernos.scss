@use '../abstracts/mixins' as *;
// ===================================
// PÁGINA: CADERNOS / NOTEBOOKS
// ===================================

.cadernos-layout, .notebooks-page {
	.notebooks-list { display:grid; grid-template-columns:repeat(auto-fill, minmax(280px, 1fr)); gap:1rem; }
}

.cadernos-layout {
	/* Layout real usando atributos data-*, independente de Bootstrap */
	[data-nb-layout] { display:grid; grid-template-columns: 260px minmax(0,1fr); gap: 1rem; max-width: 1200px; margin: 0 auto; padding: .5rem .75rem; align-items:start; }

	/* Sidebar */
	[data-nb-aside] {
		width:100%;
		background:var(--pv-page-header-bg);
		border-radius:0.6rem;
		padding:.75rem;
		box-shadow:var(--pv-shadow, 0 2px 2px rgba(17, 24, 39, 0.08));
		border:1px solid var(--pv-page-header-border);
		box-sizing:border-box;
		min-height: 520px;
	}
	.nb-list { display:flex; flex-direction:column; gap:.5rem; }
	.nb-item {
		background:#fff;
		padding:.5rem .6rem;
		border-radius:0.6rem;
		cursor:pointer;
		display:flex;
		align-items:center;
		justify-content:space-between;
		border:1px solid var(--pv-page-header-border);
		box-shadow:var(--pv-shadow, 0 2px 2px rgba(17, 24, 39, 0.08));
		transition: transform .12s ease, box-shadow .12s ease;
	}
	.nb-item:hover { transform: translateY(-2px); box-shadow: var(--pv-shadow, 0 2px 2px rgba(17, 24, 39, 0.12)); }
	.nb-name { font-weight:600; color:#2b3a3f; font-size:1rem; line-height:1.2; }
	.nb-count { color:#7a8790; font-size:.85rem; margin-top:.25rem; }

	/* Área principal */
	[data-nb-main] { min-width:0; }
	.nb-editor {
		background:var(--pv-page-header-bg);
		padding:1rem;
		border-radius:0.6rem;
		border:1px solid var(--pv-page-header-border);
		box-shadow:var(--pv-shadow, 0 2px 2px rgba(17, 24, 39, 0.08));
		box-sizing:border-box;
		min-height:70vh;
	}

	/* Abas das páginas do caderno */
	[data-page-tabs] {
		display:flex;
		align-items:stretch;
		gap:.5rem;
		margin:0;
		margin-bottom:.75rem;
		padding:.5rem;
		list-style:none;
		border-radius:0.6rem 0.6rem 0 0;
		background:var(--pv-page-header-bg);
		border:1px solid var(--pv-page-header-border);
		box-shadow:inset 0 -1px 0 rgba(15, 23, 42, .08);
		overflow-x:auto;
		scrollbar-width:thin;
		scrollbar-color:rgba(15,23,42,.25) transparent;
	}
	[data-page-tabs]::-webkit-scrollbar { height:6px; }
	[data-page-tabs]::-webkit-scrollbar-thumb { background:rgba(15,23,42,.22); border-radius:999px; }
	[data-page-tabs]::-webkit-scrollbar-track { background:transparent; }
	[data-page-tabs] .nav-item { flex:0 0 auto; max-width:240px; }
	[data-page-tabs] .nav-link {
		display:flex;
		align-items:center;
		gap:.45rem;
		width:100%;
		background:rgba(255,255,255,.65);
		border:none;
		border-radius:0.6rem;
		padding:.45rem .85rem;
		font-weight:600;
		color:#364152;
		box-shadow:0 2px 2px rgba(17, 24, 39, 0.08);
		transition:background .18s ease, color .18s ease, box-shadow .18s ease, transform .18s ease;
		cursor:pointer;
		min-height:2.4rem;
	}
	[data-page-tabs] .nav-link:hover,
	[data-page-tabs] .nav-link:focus {
		background:#ffffff;
		color:#1f2937;
		box-shadow:0 2px 2px rgba(17, 24, 39, 0.08);
	}
	[data-page-tabs] .nav-link.active {
		background:#ffffff;
		color:#0b4da4;
		box-shadow:0 2px 2px rgba(17, 24, 39, 0.08);
		transform:translateY(-2px);
	}
	[data-page-tabs] .nav-link .tab-title { flex:1 1 auto; min-width:0; max-width:200px; }
	[data-page-tabs] .nav-link .tab-title::after {
		content:'';
		display:block;
		height:2px;
		width:100%;
		opacity:0;
		background:linear-gradient(90deg,#3b82f6,#6366f1);
		transition:opacity .18s ease;
		margin-top:.1rem;
	}
	[data-page-tabs] .nav-link.active .tab-title::after { opacity:1; }
	[data-page-tabs] [data-page-close] {
		display:inline-flex;
		align-items:center;
		justify-content:center;
		width:1.6rem;
		height:1.6rem;
		border-radius:0.6rem;
		background:rgba(59,130,246,.14);
		color:#1d4ed8;
		font-size:.95rem;
		line-height:1;
		border:none;
		padding:0;
		transition:background .18s ease, color .18s ease, transform .18s ease;
	}
	[data-page-tabs] [data-page-close]:hover,
	[data-page-tabs] [data-page-close]:focus {
		background:#dc3545;
		color:#fff;
		transform:scale(1.05);
	}
	[data-page-tabs] [data-page-close]:active { transform:scale(.92); }
	[data-page-tabs] [data-page-new] {
		min-width:2.6rem;
		max-width:2.6rem;
		padding:.45rem;
		justify-content:center;
		font-size:1.1rem;
		background:rgba(59,130,246,.12);
		color:#1d4ed8;
	}
	[data-page-tabs] [data-page-new]:hover,
	[data-page-tabs] [data-page-new]:focus {
		background:#1d4ed8;
		color:#fff;
	}
}

/* Estado colapsado do painel esquerdo */
[data-nb-layout].pv-nb-collapsed {
	grid-template-columns: 48px minmax(0,1fr);
}
[data-nb-layout].pv-nb-collapsed [data-nb-aside] { display:flex; flex-direction:column; align-items:center; padding:.5rem .25rem; }
[data-nb-layout].pv-nb-collapsed [data-nb-aside] .pv-nb-content { display:none; }
[data-nb-layout].pv-nb-collapsed [data-nb-aside] .pv-nb-toggle { width:100%; display:flex; justify-content:center; align-items:center; padding:.25rem 0; }
[data-nb-layout].pv-nb-collapsed [data-nb-main] { min-width:0; }

/* Cabeçalho do bloco "Caderno:" com ações inline */
.nb-header-inline { display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
.nb-header-inline .btn-group { display:flex; gap:.25rem; }
.nb-header-inline .btn { padding:.3rem .5rem; }

/* -------- Editor Produtivus (toolbar, menus, área) -------- */
.pv-editor {
	--ed-gap:.5rem; --ed-pad:.5rem; --ed-border:1px solid rgba(0,0,0,.12);
	.editor-area { min-height:60vh; max-height:60vh; overflow:auto; }
	.btn-toolbar { display:flex; flex-wrap:wrap; gap:var(--ed-gap); }
	.btn-group { display:flex; gap:.25rem; }
	.btn { border:1px solid rgba(0,0,0,.2); background:#fff; color:#1f2529; padding:.35rem .5rem; border-radius:.4rem; line-height:1; }
	.btn:hover { background:#f6f7f8; }
	.btn-outline-secondary { border-color: rgba(0,0,0,.2); }
	.dropdown { position:relative; }
		.dropdown-menu { position:absolute; inset:auto auto auto 0; z-index: 1065; min-width: 220px; background:#fff; border:1px solid rgba(0,0,0,.15); border-radius:0.6rem; padding:.5rem; box-shadow:0 2px 2px rgba(17, 24, 39, 0.08); display:none; list-style:none; margin:0; }
	.dropdown-menu.show { display:block; }
	.dropdown-item { display:block; width:100%; text-align:left; background:transparent; border:0; padding:.4rem .6rem; border-radius:.35rem; }
	.dropdown-item:hover { background:#f4f6f8; }

	/* Menus de cor (padronizados com PVColorPalette) */
	.pv-color-menu { display:block; }
	.pv-color-grid { display:grid; grid-template-columns:repeat(7, 1fr); gap:.25rem; }
	.pv-color-row { display:flex; gap:.25rem; margin-top:.25rem; }
	.pv-swatch { width:20px; height:20px; border:1px solid rgba(0,0,0,.2); border-radius:.25rem; }
	.pv-color-subtitle { font-size:.75rem; color:#66727a; margin:.35rem 0 .2rem; }
	.pv-color-custom { display:flex; align-items:center; gap:.35rem; }

	/* Utilitários mínimos usados pelo markup do editor (sem Bootstrap) */
	.p-1 { padding:.25rem !important; }
	.p-2 { padding:.5rem !important; }
	.w-260 { width:260px !important; }
	.max-h-280 { max-height:280px !important; }
	.overflow-auto { overflow:auto !important; }

	/* Form controls básicos */
	.form-control, .form-select { border:1px solid rgba(0,0,0,.2); border-radius:.4rem; padding:.35rem .5rem; background:#fff; color:#1f2529; }
	.form-control:focus, .form-select:focus { outline:2px solid rgba(13,110,253,.25); outline-offset:0; }
	.form-control-color { padding:.15rem; height:2rem; width:2.5rem; }

	/* Área editável: remove contorno preto e usa highlight suave */
	.editor-area { outline: none !important; box-shadow: inset 0 0 0 1px rgba(13,110,253,.15); }
	.editor-area:focus { box-shadow: inset 0 0 0 2px rgba(13,110,253,.25); }
}

/* Tabelas inseridas pelo editor */
.pv-editor .editor-area table { border-collapse:collapse; border-spacing:0; margin:.5rem 0; }
.pv-editor .editor-area table td, .pv-editor .editor-area table th { border:1px solid #dcdfe3; padding:.25rem .4rem; min-width:40px; }

@media (max-width: 920px){
	.cadernos-layout [data-nb-layout] { grid-template-columns: minmax(0,1fr); }
	.cadernos-layout [data-nb-aside] { order:2; }
	.cadernos-layout [data-nb-main] { order:1; }
}
